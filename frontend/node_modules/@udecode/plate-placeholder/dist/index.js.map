{"version":3,"file":"index.js","sources":["../src/components/Placeholder.styles.ts","../src/components/Placeholder.tsx"],"sourcesContent":["import { createStyles } from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { PlaceholderProps } from './Placeholder.types';\n\nexport const getPlaceholderStyles = (props: PlaceholderProps) =>\n  createStyles(\n    { prefixClassNames: 'Placeholder', ...props },\n    {\n      root:\n        props.enabled &&\n        css`\n          ::before {\n            content: attr(placeholder);\n            opacity: 0.3;\n            ${tw`block absolute cursor-text`}\n          }\n        `,\n    }\n  );\n","import React from 'react';\nimport {\n  createNodeHOC,\n  createNodesHOC,\n  isCollapsed,\n  useEditorState,\n} from '@udecode/plate-core';\nimport { Editor } from 'slate';\nimport { useFocused, useSelected } from 'slate-react';\nimport { getPlaceholderStyles } from './Placeholder.styles';\nimport { PlaceholderProps } from './Placeholder.types';\n\nexport const Placeholder = (props: PlaceholderProps) => {\n  const {\n    children,\n    element,\n    placeholder,\n    hideOnBlur = true,\n    nodeProps,\n  } = props;\n\n  const focused = useFocused();\n  const selected = useSelected();\n  const editor = useEditorState();\n\n  const isEmptyBlock = Editor.isEmpty(editor, element);\n\n  const enabled =\n    isEmptyBlock &&\n    (!hideOnBlur ||\n      (isCollapsed(editor.selection) && hideOnBlur && focused && selected));\n\n  return React.Children.map(children, (child) => {\n    return React.cloneElement(child, {\n      className: child.props.className,\n      nodeProps: {\n        ...nodeProps,\n        styles: getPlaceholderStyles({ enabled, ...props }),\n        placeholder,\n      },\n    });\n  });\n};\n\nexport const withPlaceholder = createNodeHOC(Placeholder);\nexport const withPlaceholders = createNodesHOC(Placeholder);\n"],"names":["getPlaceholderStyles","props","createStyles","prefixClassNames","root","enabled","css","Placeholder","children","element","placeholder","hideOnBlur","nodeProps","focused","useFocused","selected","useSelected","editor","useEditorState","isEmptyBlock","Editor","isEmpty","isCollapsed","selection","React","Children","map","child","cloneElement","className","styles","withPlaceholder","createNodeHOC","withPlaceholders","createNodesHOC"],"mappings":";;;;;;;;;;;;;;;MAKaA,oBAAoB,GAAIC,KAAD,IAClCC,kCAAY,CACV;AAAEC,EAAAA,gBAAgB,EAAE,aAApB;AAAmC,KAAGF;AAAtC,CADU,EAEV;AACEG,EAAAA,IAAI,EACFH,KAAK,CAACI,OAAN,IACAC,oBADA,2DAKQ;AAAA;AAAA;AAAA;AAAA,GALR;AAFJ,CAFU;;MCMDC,WAAW,GAAIN,KAAD,IAA6B;AACtD,QAAM;AACJO,IAAAA,QADI;AAEJC,IAAAA,OAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA,UAAU,GAAG,IAJT;AAKJC,IAAAA;AALI,MAMFX,KANJ;AAQA,QAAMY,OAAO,GAAGC,qBAAU,EAA1B;AACA,QAAMC,QAAQ,GAAGC,sBAAW,EAA5B;AACA,QAAMC,MAAM,GAAGC,wBAAc,EAA7B;AAEA,QAAMC,YAAY,GAAGC,YAAM,CAACC,OAAP,CAAeJ,MAAf,EAAuBR,OAAvB,CAArB;AAEA,QAAMJ,OAAO,GACXc,YAAY,KACX,CAACR,UAAD,IACEW,qBAAW,CAACL,MAAM,CAACM,SAAR,CAAX,IAAiCZ,UAAjC,IAA+CE,OAA/C,IAA0DE,QAFjD,CADd;AAKA,SAAOS,yBAAK,CAACC,QAAN,CAAeC,GAAf,CAAmBlB,QAAnB,EAA8BmB,KAAD,IAAW;AAC7C,wBAAOH,yBAAK,CAACI,YAAN,CAAmBD,KAAnB,EAA0B;AAC/BE,MAAAA,SAAS,EAAEF,KAAK,CAAC1B,KAAN,CAAY4B,SADQ;AAE/BjB,MAAAA,SAAS,EAAE,EACT,GAAGA,SADM;AAETkB,QAAAA,MAAM,EAAE9B,oBAAoB,CAAC;AAAEK,UAAAA,OAAF;AAAW,aAAGJ;AAAd,SAAD,CAFnB;AAGTS,QAAAA;AAHS;AAFoB,KAA1B,CAAP;AAQD,GATM,CAAP;AAUD;MAEYqB,eAAe,GAAGC,uBAAa,CAACzB,WAAD;MAC/B0B,gBAAgB,GAAGC,wBAAc,CAAC3B,WAAD;;;;;;;"}