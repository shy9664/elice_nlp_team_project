{"version":3,"file":"index.js","sources":["../src/createLineHeightPlugin.ts","../src/transforms/setLineHeight.ts"],"sourcesContent":["import {\n  createPluginFactory,\n  ELEMENT_DEFAULT,\n  getPluginType,\n} from '@udecode/plate-core';\n\nexport const KEY_LINE_HEIGHT = 'lineHeight';\n\n/**\n * Enables support for text alignment, useful to align your content\n * to left, right and center it.\n */\nexport const createLineHeightPlugin = createPluginFactory({\n  key: KEY_LINE_HEIGHT,\n  inject: {\n    props: {\n      nodeKey: KEY_LINE_HEIGHT,\n      defaultNodeValue: 1.5,\n    },\n  },\n  then: (editor) => ({\n    inject: {\n      props: {\n        validTypes: [getPluginType(editor, ELEMENT_DEFAULT)],\n      },\n    },\n  }),\n});\n","import {\n  getPluginInjectProps,\n  PlateEditor,\n  setNodes,\n  SetNodesOptions,\n  TNodeMatch,\n  unsetNodes,\n} from '@udecode/plate-core';\nimport { Editor } from 'slate';\nimport { KEY_LINE_HEIGHT } from '../createLineHeightPlugin';\n\nexport const setLineHeight = (\n  editor: PlateEditor,\n  {\n    value,\n    setNodesOptions,\n  }: { value: number; setNodesOptions?: SetNodesOptions }\n): void => {\n  const { validTypes, defaultNodeValue, nodeKey } = getPluginInjectProps(\n    editor,\n    KEY_LINE_HEIGHT\n  );\n\n  const match: TNodeMatch = (n) =>\n    Editor.isBlock(editor, n) && !!validTypes && validTypes.includes(n.type);\n\n  if (value === defaultNodeValue) {\n    unsetNodes(editor, nodeKey!, {\n      match,\n      ...setNodesOptions,\n    });\n  } else {\n    setNodes(\n      editor,\n      { [nodeKey!]: value },\n      {\n        match,\n        ...setNodesOptions,\n      }\n    );\n  }\n};\n"],"names":["KEY_LINE_HEIGHT","createLineHeightPlugin","createPluginFactory","key","inject","props","nodeKey","defaultNodeValue","then","editor","validTypes","getPluginType","ELEMENT_DEFAULT","setLineHeight","value","setNodesOptions","getPluginInjectProps","match","n","Editor","isBlock","includes","type","unsetNodes","setNodes"],"mappings":";;;;;;;MAMaA,eAAe,GAAG;AAE/B;AACA;AACA;AACA;;MACaC,sBAAsB,GAAGC,6BAAmB,CAAC;AACxDC,EAAAA,GAAG,EAAEH,eADmD;AAExDI,EAAAA,MAAM,EAAE;AACNC,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAEN,eADJ;AAELO,MAAAA,gBAAgB,EAAE;AAFb;AADD,GAFgD;AAQxDC,EAAAA,IAAI,EAAGC,MAAD,KAAa;AACjBL,IAAAA,MAAM,EAAE;AACNC,MAAAA,KAAK,EAAE;AACLK,QAAAA,UAAU,EAAE,CAACC,uBAAa,CAACF,MAAD,EAASG,yBAAT,CAAd;AADP;AADD;AADS,GAAb;AARkD,CAAD;;MCD5CC,aAAa,GAAG,CAC3BJ,MAD2B,EAE3B;AACEK,EAAAA,KADF;AAEEC,EAAAA;AAFF,CAF2B,KAMlB;AACT,QAAM;AAAEL,IAAAA,UAAF;AAAcH,IAAAA,gBAAd;AAAgCD,IAAAA;AAAhC,MAA4CU,8BAAoB,CACpEP,MADoE,EAEpET,eAFoE,CAAtE;;AAKA,QAAMiB,KAAiB,GAAIC,CAAD,IACxBC,YAAM,CAACC,OAAP,CAAeX,MAAf,EAAuBS,CAAvB,KAA6B,CAAC,CAACR,UAA/B,IAA6CA,UAAU,CAACW,QAAX,CAAoBH,CAAC,CAACI,IAAtB,CAD/C;;AAGA,MAAIR,KAAK,KAAKP,gBAAd,EAAgC;AAC9BgB,IAAAA,oBAAU,CAACd,MAAD,EAASH,OAAT,EAAmB;AAC3BW,MAAAA,KAD2B;AAE3B,SAAGF;AAFwB,KAAnB,CAAV;AAID,GALD,MAKO;AACLS,IAAAA,kBAAQ,CACNf,MADM,EAEN;AAAE,OAACH,OAAD,GAAYQ;AAAd,KAFM,EAGN;AACEG,MAAAA,KADF;AAEE,SAAGF;AAFL,KAHM,CAAR;AAQD;AACF;;;;;;"}