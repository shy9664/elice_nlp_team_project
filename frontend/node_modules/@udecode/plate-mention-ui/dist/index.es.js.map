{"version":3,"file":"index.es.js","sources":["../src/MentionCombobox/MentionCombobox.tsx","../src/MentionElement/MentionElement.styles.ts","../src/MentionElement/MentionElement.tsx","../src/MentionInputElement/MentionInputElement.styles.ts","../src/MentionInputElement/MentionInputElement.tsx"],"sourcesContent":["import React from 'react';\nimport { Combobox, ComboboxProps, Data, NoData } from '@udecode/plate-combobox';\nimport { getPluginOptions, usePlateEditorRef } from '@udecode/plate-core';\nimport {\n  ELEMENT_MENTION,\n  getMentionOnSelectItem,\n  MentionPlugin,\n} from '@udecode/plate-mention';\n\nexport const MentionCombobox = <TData extends Data = NoData>({\n  items,\n  component,\n  onRenderItem,\n  pluginKey = ELEMENT_MENTION,\n  id = pluginKey,\n}: Pick<\n  Partial<ComboboxProps<TData>>,\n  'id' | 'items' | 'component' | 'onRenderItem'\n> & { pluginKey?: string }) => {\n  const editor = usePlateEditorRef()!;\n\n  const { trigger } = getPluginOptions<MentionPlugin>(editor, pluginKey);\n\n  return (\n    <Combobox\n      id={id}\n      trigger={trigger!}\n      controlled\n      items={items}\n      component={component}\n      onRenderItem={onRenderItem}\n      onSelectItem={getMentionOnSelectItem({\n        key: pluginKey,\n      })}\n    />\n  );\n};\n","import { createStyles } from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { MentionElementStyleProps } from './MentionElement.types';\n\nexport const getMentionElementStyles = (props: MentionElementStyleProps) =>\n  createStyles(\n    { prefixClassNames: 'MentionElement', ...props },\n    {\n      root: [\n        tw`my-0 mx-px align-baseline inline-block`,\n        props.selected && props.focused && tw`boxShadow[0 0 0 2px #B4D5FF]`,\n        css`\n          padding: 3px 3px 2px;\n          border-radius: 4px;\n          background-color: #eee;\n          font-size: 0.9em;\n        `,\n      ],\n    }\n  );\n","import React from 'react';\nimport { getHandler } from '@udecode/plate-core';\nimport { getRootProps } from '@udecode/plate-styled-components';\nimport { useFocused, useSelected } from 'slate-react';\nimport { getMentionElementStyles } from './MentionElement.styles';\nimport { MentionElementProps } from './MentionElement.types';\n\nexport const MentionElement = (props: MentionElementProps) => {\n  const {\n    attributes,\n    children,\n    nodeProps,\n    element,\n    prefix,\n    as,\n    onClick,\n    renderLabel,\n  } = props;\n\n  const rootProps = getRootProps(props);\n\n  const selected = useSelected();\n  const focused = useFocused();\n\n  const styles = getMentionElementStyles({ ...props, selected, focused });\n\n  return (\n    <span\n      {...attributes}\n      as={as}\n      data-slate-value={element.value}\n      className={styles.root.className}\n      css={styles.root.css}\n      contentEditable={false}\n      onClick={getHandler(onClick, element)}\n      {...rootProps}\n      {...nodeProps}\n    >\n      {prefix}\n      {renderLabel ? renderLabel(element) : element.value}\n      {children}\n    </span>\n  );\n};\n","import { createStyles } from '@udecode/plate-styled-components';\nimport tw, { css } from 'twin.macro';\nimport { MentionInputElementStyleProps } from './MentionInputElement.types';\n\nexport const getMentionInputElementStyles = (\n  props: MentionInputElementStyleProps\n) =>\n  createStyles(\n    { prefixClassNames: 'MentionInputElement', ...props },\n    {\n      root: [\n        tw`my-0 mx-px align-baseline inline-block`,\n        props.selected && props.focused && tw`boxShadow[0 0 0 2px #B4D5FF]`,\n        css`\n          padding: 3px 3px 2px;\n          border-radius: 4px;\n          background-color: #eee;\n          font-size: 0.9em;\n        `,\n      ],\n    }\n  );\n","import React from 'react';\nimport { getHandler } from '@udecode/plate-core';\nimport { getRootProps } from '@udecode/plate-styled-components';\nimport { useFocused, useSelected } from 'slate-react';\nimport { getMentionInputElementStyles } from './MentionInputElement.styles';\nimport { MentionInputElementProps } from './MentionInputElement.types';\n\nexport const MentionInputElement = (props: MentionInputElementProps) => {\n  const { attributes, children, nodeProps, element, as, onClick } = props;\n\n  const rootProps = getRootProps(props);\n\n  const selected = useSelected();\n  const focused = useFocused();\n\n  const styles = getMentionInputElementStyles({\n    ...props,\n    selected,\n    focused,\n  });\n\n  return (\n    <span\n      {...attributes}\n      as={as}\n      data-slate-value={element.value}\n      className={styles.root.className}\n      css={styles.root.css}\n      onClick={getHandler(onClick, element)}\n      {...rootProps}\n      {...nodeProps}\n    >\n      {children}\n    </span>\n  );\n};\n"],"names":["MentionCombobox","items","component","onRenderItem","pluginKey","ELEMENT_MENTION","id","editor","usePlateEditorRef","trigger","getPluginOptions","getMentionOnSelectItem","key","getMentionElementStyles","props","createStyles","prefixClassNames","root","selected","focused","css","MentionElement","attributes","children","nodeProps","element","prefix","as","onClick","renderLabel","rootProps","getRootProps","useSelected","useFocused","styles","value","className","getHandler","getMentionInputElementStyles","MentionInputElement"],"mappings":"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"}