{"version":3,"file":"index.js","sources":["../src/Divider/Divider.tsx","../src/PortalBody/PortalBody.tsx","../../../../node_modules/lodash/isArray.js","../../../../node_modules/lodash/castArray.js","../src/utils/getRootProps.ts","../src/utils/createStyles.ts","../src/utils/getStyledNodeStyles.ts","../src/StyledElement/StyledElement.tsx","../src/StyledLeaf/StyledLeaf.tsx","../src/hocs/withStyledProps.tsx"],"sourcesContent":["import React, { HTMLAttributes } from 'react';\n\nexport const Divider = (props: HTMLAttributes<HTMLDivElement>) => (\n  <div tw=\"mx-2 my-0.5 w-px bg-gray-200\" {...props} />\n);\n","import { ReactPortal } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PortalBodyProps } from './PortalBody.types';\n\nexport const PortalBody: ({\n  children,\n  element,\n}: PortalBodyProps) => ReactPortal = ({ children, element }: PortalBodyProps) =>\n  ReactDOM.createPortal(children, element || document.body);\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","import { AnyObject } from '@udecode/plate-core';\nimport { StyledElementProps } from '../StyledElement/StyledElement.types';\nimport { StyledLeafProps } from '../StyledLeaf/StyledLeaf.types';\n\nexport const getRootProps = (\n  props: StyledElementProps | StyledLeafProps | AnyObject\n) => {\n  const {\n    editor,\n    attributes,\n    children,\n    nodeProps,\n    styles,\n    classNames,\n    prefixClassNames,\n    element,\n    leaf,\n    text,\n    ...rootProps\n  } = props;\n\n  return rootProps;\n};\n","import clsx from 'clsx';\nimport castArray from 'lodash/castArray';\nimport { CSSProp } from 'styled-components';\nimport { StyledProps } from '../types/StyledProps';\n\nexport interface Style {\n  css: CSSProp[];\n  className: string;\n}\n\nexport const createStyles = <\n  T extends {\n    styles?: NonNullable<T['styles']>;\n    classNames?: any;\n    prefixClassNames?: string;\n  } = StyledProps\n>(\n  props: T,\n  styles: NonNullable<T['styles']> | NonNullable<T['styles']>[]\n): { root: Style } & Record<\n  keyof NonNullable<T['styles']>,\n  Style | undefined\n> => {\n  const stylesArray = castArray(styles);\n\n  const allStyles = {} as any;\n\n  stylesArray.forEach((_styles) => {\n    Object.keys(_styles).forEach((key) => {\n      const cssProp = castArray(_styles[key]);\n\n      // Init css and className props\n      if (!allStyles[key]) {\n        let className = '';\n        if (props.prefixClassNames) {\n          if (key === 'root') {\n            className = `slate-${props.prefixClassNames}`;\n          } else {\n            className = `slate-${props.prefixClassNames}-${key}`;\n          }\n        }\n\n        allStyles[key as any] = {\n          css: cssProp,\n          className: clsx(props.prefixClassNames && className),\n        };\n      }\n\n      // Extend className with `classNames` prop\n      const classNameProp = props?.classNames?.[key];\n      if (classNameProp) {\n        allStyles[key].className = clsx(\n          allStyles[key].className,\n          classNameProp\n        );\n      }\n\n      // Extend css with `styles` prop\n      const cssPropOverride = props?.styles?.[key];\n      if (!cssPropOverride) return;\n\n      const cssPropOverrideArray = castArray(cssPropOverride);\n      allStyles[key].css.push(...cssPropOverrideArray);\n    });\n  });\n\n  return allStyles;\n};\n","import { AnyObject } from '@udecode/plate-core';\nimport { StyledProps } from '../types/StyledProps';\nimport { createStyles } from './createStyles';\n\nexport const getStyledNodeStyles = (\n  props: Pick<StyledProps, 'styles'> & AnyObject\n) =>\n  createStyles(props, {\n    root: [{}],\n  });\n","import React from 'react';\nimport castArray from 'lodash/castArray';\nimport { getRootProps } from '../utils/getRootProps';\nimport { getStyledNodeStyles } from '../utils/getStyledNodeStyles';\nimport { StyledElementProps } from './StyledElement.types';\n\n/**\n * StyledElement with no default styles.\n */\nexport const StyledElement = (props: StyledElementProps) => {\n  const { attributes, children, nodeProps, styles } = props;\n\n  const rootProps = getRootProps(props);\n  const rootStyles = castArray(styles?.root ?? []);\n  const nodePropsStyles = nodeProps?.styles?.root?.css ?? [];\n\n  const { root } = getStyledNodeStyles({\n    ...nodeProps,\n    styles: { root: [...rootStyles, ...nodePropsStyles] },\n  });\n\n  return (\n    <div {...attributes} css={root.css} {...rootProps} {...nodeProps}>\n      {children}\n    </div>\n  );\n};\n","import React from 'react';\nimport castArray from 'lodash/castArray';\nimport { getRootProps } from '../utils/getRootProps';\nimport { getStyledNodeStyles } from '../utils/getStyledNodeStyles';\nimport { StyledLeafProps } from './StyledLeaf.types';\n\n/**\n * StyledLeaf with no default styles.\n */\nexport const StyledLeaf = (props: StyledLeafProps) => {\n  const { attributes, children, nodeProps, styles } = props;\n\n  const rootProps = getRootProps(props);\n  const rootStyles = castArray(styles?.root ?? []);\n  const nodePropsStyles = nodeProps?.styles?.root?.css ?? [];\n\n  const { root } = getStyledNodeStyles({\n    ...nodeProps,\n    styles: { root: [...rootStyles, ...nodePropsStyles] },\n  });\n\n  return (\n    <span {...attributes} css={root.css} {...rootProps} {...nodeProps}>\n      {children}\n    </span>\n  );\n};\n","import React, { FunctionComponent } from 'react';\nimport { TElement, TText } from '@udecode/plate-core';\nimport castArray from 'lodash/castArray';\nimport { CSSProp, CSSProperties } from 'styled-components';\n\n/**\n * HOC mapping element/leaf props to component styles\n */\nexport const withStyledProps = <T extends { element: TElement; leaf: TText }>(\n  Component: FunctionComponent<any>,\n  {\n    elementProps = {},\n    leafProps = {},\n  }: {\n    elementProps?: {\n      [key: string]: keyof CSSProperties | (keyof CSSProperties)[];\n    };\n    leafProps?: {\n      [key: string]: keyof CSSProperties | (keyof CSSProperties)[];\n    };\n  }\n): FunctionComponent<any> => (_props: T) => {\n  const { element, leaf } = _props;\n\n  const styles: { root: CSSProp } = {\n    root: {},\n  };\n\n  Object.keys(elementProps).forEach((nodeProp) => {\n    const cssPropKeys = castArray(elementProps[nodeProp]);\n    cssPropKeys.forEach((key) => {\n      styles.root[key] = element[nodeProp];\n    });\n  });\n\n  Object.keys(leafProps).forEach((nodeProp) => {\n    const cssPropKeys = castArray(leafProps[nodeProp]);\n    cssPropKeys.forEach((key) => {\n      styles.root[key] = leaf[nodeProp];\n    });\n  });\n\n  return <Component {..._props} styles={styles} />;\n};\n"],"names":["Divider","props","React","PortalBody","children","element","ReactDOM","createPortal","document","body","isArray","getRootProps","editor","attributes","nodeProps","styles","classNames","prefixClassNames","leaf","text","rootProps","createStyles","stylesArray","castArray","allStyles","forEach","_styles","Object","keys","key","cssProp","className","css","clsx","classNameProp","cssPropOverride","cssPropOverrideArray","push","getStyledNodeStyles","root","StyledElement","rootStyles","nodePropsStyles","StyledLeaf","withStyledProps","Component","elementProps","leafProps","_props","nodeProp","cssPropKeys"],"mappings":"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"}