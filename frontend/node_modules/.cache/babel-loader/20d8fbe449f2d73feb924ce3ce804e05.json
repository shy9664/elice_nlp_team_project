{"ast":null,"code":"import { createPluginFactory, KEY_DESERIALIZE_HTML } from '@udecode/plate-core';\nimport juice from 'juice';\nconst KEY_JUICE = 'juice';\nconst createJuicePlugin = createPluginFactory({\n  key: KEY_JUICE,\n  inject: {\n    pluginsByKey: {\n      [KEY_DESERIALIZE_HTML]: {\n        editor: {\n          insertData: {\n            transformData: data => {\n              // juice ignores the first class when there is <!-- just after <style>, so we remove it\n              let newData = data.replace(/<style>(\\s*?)<!--/g, '<style>');\n              newData = juice(newData);\n              return newData;\n            }\n          }\n        }\n      }\n    }\n  }\n});\nexport { KEY_JUICE, createJuicePlugin };","map":{"version":3,"sources":["../src/createJuicePlugin.ts"],"names":["KEY_JUICE","createJuicePlugin","createPluginFactory","key","inject","pluginsByKey","editor","insertData","transformData","data","newData","juice"],"mappings":";;MAGaA,SAAS,GAAG,O;MAEZC,iBAAiB,GAAGC,mBAAmB,CAAC;AACnDC,EAAAA,GAAG,EADgD,SAAA;AAEnDC,EAAAA,MAAM,EAAE;AACNC,IAAAA,YAAY,EAAE;AACZ,OAAA,oBAAA,GAAwB;AACtBC,QAAAA,MAAM,EAAE;AACNC,UAAAA,UAAU,EAAE;AACVC,YAAAA,aAAa,EAAGC,IAAD,IAAU;AACvB;AACA,kBAAIC,OAAO,GAAGD,IAAI,CAAJA,OAAAA,CAAAA,oBAAAA,EAAd,SAAcA,CAAd;AACAC,cAAAA,OAAO,GAAGC,KAAK,CAAfD,OAAe,CAAfA;AACA,qBAAA,OAAA;AACD;AANS;AADN;AADc;AADZ;AADR;AAF2C,CAAD,C","sourcesContent":["import { createPluginFactory, KEY_DESERIALIZE_HTML } from '@udecode/plate-core';\nimport juice from 'juice';\n\nexport const KEY_JUICE = 'juice';\n\nexport const createJuicePlugin = createPluginFactory({\n  key: KEY_JUICE,\n  inject: {\n    pluginsByKey: {\n      [KEY_DESERIALIZE_HTML]: {\n        editor: {\n          insertData: {\n            transformData: (data) => {\n              // juice ignores the first class when there is <!-- just after <style>, so we remove it\n              let newData = data.replace(/<style>(\\s*?)<!--/g, '<style>');\n              newData = juice(newData);\n              return newData;\n            },\n          },\n        },\n      },\n    },\n  },\n});\n"]},"metadata":{},"sourceType":"module"}